
number_procs 3

weak array F[proc] : int

init (i) { F[i] = 0 }

unsafe (i j k) { read(i, F[i]) = 1 && read(i, F[j]) = 2 && read(i, F[k]) = 3 }

transition t1 (i j k)
{ write(i, F[p], case
       	   | p = i : 1
       	   | p = j : 2
       	   | _ : 3) }
