
type loc = L1 | L2 | End

array PC[proc] : loc
array X[proc] : bool

init (p) { PC[p] = L1 && X[p] = False }

unsafe (p1 p2) { PC[p1] = End && PC[p2] = End }


transition t1 (p q)
requires { PC[p] = L1 }
{ PC[p] := L2; X[q] := False }

transition t2 (p)
requires { PC[p] = L2 && forall_other q. X[q] = True }
{ PC[p] := End }
