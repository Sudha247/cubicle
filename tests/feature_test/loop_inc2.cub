
number_procs 1

type pc = L1 | L2 | End

array PC[proc] : pc
array R[proc] : int
weak var X : int

init (p) { PC[p] = L1 && X = 0 && R[p] = 0 }

unsafe (p) { PC[p] = End }

transition t1 ([p])
requires { PC[p] = L1 }
{ PC[p] := L2; R[p] := X }

transition t2inf ([p])
requires { PC[p] = L2 && R[p] < 2 }
{ PC[p] := L1; X := R[p] + 1 }

transition t2sup ([p])
requires { PC[p] = L2 && R[p] = 2 }
{ PC[p] := End  }
