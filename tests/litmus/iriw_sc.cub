
number_procs 4

type pc = L1 | L2 | End

array PC[proc] : pc
var X : int
var Y : int
var R1 : int
var R2 : int
var R3 : int
var R4 : int

init () { PC[#1] = L1 && PC[#2] = L1 && PC[#3] = L1 && PC[#4] = L1 &&
          X = 0 && Y = 0 }

unsafe () { PC[#1] = End && PC[#2] = End && PC[#3] = End && PC[#4] = End &&
            R1 = 1 && R2 = 0 && R3 = 2 && R4 = 0 }

transition t1_1 ()
requires { PC[#1] = L1 }
{ PC[#1] := End; X := 1 }

transition t2_1 ()
requires { PC[#2] = L1 }
{ PC[#2] := End; Y := 2 }

transition t3_1 ()
requires { PC[#3] = L1 }
{ PC[#3] := L2; R1 := X }

transition t3_2 ()
requires { PC[#3] = L2 }
{ PC[#3] := End; R2 := Y }

transition t4_1 ()
requires { PC[#4] = L1 }
{ PC[#4] := L2; R3 := Y }

transition t4_2 ()
requires { PC[#4] = L2 }
{ PC[#4] := End; R4 := X }
