
type loc = L1 | L2

weak var Turn : proc
array PC[proc] : loc

init (z) { PC[z] = L1 }

unsafe (z1 z2) { PC[z1] = L2 && PC[z2] = L2 }

transition enter (i)
requires { PC[i] = L1 && read(i, Turn) = i }
{ PC[i] := L2; }

transition exit (i j)
requires { PC[i] = L2 }
{ PC[i] := L1; write(i, Turn, j); }


