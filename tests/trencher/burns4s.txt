
# Memory layout:
# 0 — F[0]
# 1 — F[1]
# 2 — F[2]
# 3 — F[3]

thread t0
initial q1
final q6
transition	q1	q3	write	0	0
transition	q3	q4f	write	1	0
transition	q4f	q5	mfence
transition	q5	q5a	read	f1	1
transition	q5a	q5b	read	f2	2
transition	q5b	q5c	read	f3	3
transition	q5c	q6	check	&& == f1 0 && == f2 0 == f3 0
transition	q6	q1	noop
end

thread t1
initial q1
final q6
transition	q1	q2f	write	0	1
transition	q2f	q2a	mfence
transition	q2a	q2b	read	f0	0
transition	q2b	q1	check	== f0 1
transition	q2b	q3	check	== f0 0
transition	q3	q4f	write	1	1
transition	q4f	q4a	mfence
transition	q4a	q4b	read	f0	0
transition	q4b	q1	check	== f0 1
transition	q4b	q5	check	== f0 0
transition	q5	q5a	read	f2	2
transition	q5a	q5b	read	f3	3
transition	q5b	q6	check	&& == f2 0 == f3 0
transition	q6	q1	noop
end

thread t2
initial q1
final q6
transition	q1	q2f	write	0	2
transition	q2f	q2a	mfence
transition	q2a	q2b	read	f0	0
transition	q2b	q2c	read	f1	1
transition	q2c	q1	check	|| == f0 1 == f1 1
transition	q2c	q3	check	&& == f0 0 == f1 0
transition	q3	q4f	write	1	2
transition	q4f	q4a	mfence
transition	q4a	q4b	read	f0	0
transition	q4b	q4c	read	f1	1
transition	q4c	q1	check	|| == f0 1 == f1 1
transition	q4c	q5	check	&& == f0 0 == f1 0
transition	q5	q5a	read	f3	3
transition	q5a	q6	check	== f3 0
transition	q6	q1	noop
end

thread t3
initial q1
final q6
transition	q1	q2f	write	0	3
transition	q2f	q2a	mfence
transition	q2a	q2b	read	f0	0
transition	q2b	q2c	read	f1	1
transition	q2c	q2d	read	f2	2
transition	q2d	q1	check	|| == f0 1 || == f1 1 == f2 1
transition	q2d	q3	check	&& == f0 0 && == f1 0 == f2 0
transition	q3	q4f	write	1	3
transition	q4f	q4a	mfence
transition	q4a	q4b	read	f0	0
transition	q4b	q4c	read	f1	1
transition	q4c	q4d	read	f2	2
transition	q4d	q1	check	|| == f0 1 || == f1 1 == f2 1
transition	q4d	q6	check	&& == f0 0 && == f1 0 == f2 0
transition	q6	q1	noop
end
