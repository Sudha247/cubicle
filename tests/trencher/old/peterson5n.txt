
# Memory layout:
# 0 — flag[0]
# 1 — flag[1]
# 2 — flag[2]
# 3 — flag[3]
# 4 — flag[4]
# 5 — turn

thread t0
initial q0
final enter
transition	q0	q1	write	1	0
transition	q1	q2_f	write	1	5
transition	q1	q2_f	write	2	5
transition	q1	q2_f	write	3	5
transition	q1	q2_f	write	4	5
transition	q2_f	q2	mfence
transition	q2	q3	read	flag1	1
transition	q3	q4	read	flag2	2
transition	q4	q5	read	flag3	3
transition	q5	q6	read	flag4	4
transition	q6	q7	read	turn	5
transition	q7	q2	check	&& || || || == flag1 1 == flag2 1 == flag3 1 == flag4 1 != turn 0
transition	q7	enter	check	|| && && && == flag1 0 == flag2 0 == flag3 0 == flag4 0 == turn 0
end

thread t1
initial q0
final enter
transition	q0	q1	write	1	1
transition	q1	q2_f	write	0	5
transition	q1	q2_f	write	2	5
transition	q1	q2_f	write	3	5
transition	q1	q2_f	write	4	5
transition	q2_f	q2	mfence
transition	q2	q3	read	flag0	0
transition	q3	q4	read	flag2	2
transition	q4	q5	read	flag3	3
transition	q5	q6	read	flag4	4
transition	q6	q7	read	turn	5
transition	q7	q2	check	&& || || || == flag0 1 == flag2 1 == flag3 1 == flag4 1 != turn 1
transition	q7	enter	check	|| && && && == flag0 0 == flag2 0 == flag3 0 == flag4 0 == turn 1
end

thread t2
initial q0
final enter
transition	q0	q1	write	1	2
transition	q1	q2_f	write	0	5
transition	q1	q2_f	write	1	5
transition	q1	q2_f	write	3	5
transition	q1	q2_f	write	4	5
transition	q2_f	q2	mfence
transition	q2	q3	read	flag0	0
transition	q3	q4	read	flag1	1
transition	q4	q5	read	flag3	3
transition	q5	q6	read	flag4	4
transition	q6	q7	read	turn	5
transition	q7	q2	check	&& || || || == flag0 1 == flag1 1 == flag3 1 == flag4 1 != turn 2
transition	q7	enter	check	|| && && && == flag0 0 == flag1 0 == flag3 0 == flag4 0 == turn 2
transition	enter	q0	write	0	2
end

thread t3
initial q0
final enter
transition	q0	q1	write	1	3
transition	q1	q2_f	write	0	5
transition	q1	q2_f	write	1	5
transition	q1	q2_f	write	2	5
transition	q1	q2_f	write	4	5
transition	q2_f	q2	mfence
transition	q2	q3	read	flag0	0
transition	q3	q4	read	flag1	1
transition	q4	q5	read	flag2	2
transition	q5	q6	read	flag4	4
transition	q6	q7	read	turn	5
transition	q7	q2	check	&& || || || == flag0 1 == flag1 1 == flag2 1 == flag4 1 != turn 3
transition	q7	enter	check	|| && && && == flag0 0 == flag1 0 == flag2 0 == flag4 0 == turn 3
transition	enter	q0	write	0	3
end

thread t4
initial q0
final enter
transition	q0	q1	write	1	4
transition	q1	q2_f	write	0	5
transition	q1	q2_f	write	1	5
transition	q1	q2_f	write	2	5
transition	q1	q2_f	write	3	5
transition	q2_f	q2	mfence
transition	q2	q3	read	flag0	0
transition	q3	q4	read	flag1	1
transition	q4	q5	read	flag2	2
transition	q5	q6	read	flag3	3
transition	q6	q7	read	turn	5
transition	q7	q2	check	&& || || || == flag0 1 == flag1 1 == flag2 1 == flag3 1 != turn 4
transition	q7	enter	check	|| && && && == flag0 0 == flag1 0 == flag2 0 == flag3 0 == turn 4
transition	enter	q0	write	0	4
end
