type loc = L1 | L2 | L3 | End
type _direction = _R | _W
type _weak_var = _VX
type _val_type = { _tint : int }
type _event = { _dir : _direction ; _var : _weak_var ; _val : _val_type }

logic PC :  loc
logic T :  int

logic p0 :  int
logic p1 :  int
logic _e1 :  int
logic _e2 :  int
logic _e3 :  int
logic _s1 :  int
logic _e : int , int , int -> _event
logic _po : int , int , int , int -> prop
logic _rf : int , int , int , int , int , int -> prop
logic _co : int , int , int , int , int , int -> prop
logic _fence : int , int , int , int -> prop
logic _po_loc : int , int , int , int , int , int -> prop
logic _ppo : int , int , int , int , int , int -> prop
logic _sci : int , int -> int
logic _propi : int , int -> int


axiom rf_val :
  forall p1, p2, e1, e2, s1, s2 : int [_rf(p1,e1,s1,p2,e2,s2)].
  _rf(p1, e1, s1, p2, e2, s2)
   -> _e(p1, e1, s1)._val = _e(p2, e2, s2)._val

axiom po_loc :
  forall p1, p2, e1, e2, s1, s2 : int [_po_loc(p1,e1,s1,p2,e2,s2)].
  _po_loc(p1, e1, s1, p2, e2, s2)
   -> _sci(p1, e1) < _sci(p2, e2)

axiom co_1 :
  forall p1, p2, e1, e2, s1, s2 : int [_co(p1,e1,s1,p2,e2,s2)].
  _co(p1, e1, s1, p2, e2, s2)
   -> _sci(p1, e1) < _sci(p2, e2)

axiom rf :
  forall p1, e1, p2, e2, s1, s2 : int [_rf(p1,e1,s1,p2,e2,s2)].
  _rf(p1, e1, s1, p2, e2, s2)
   -> _sci(p1, e1) < _sci(p2, e2)

axiom ppo :
  forall p1, p2, e1, e2, s1, s2 : int [_ppo(p1,e1,s1,p2,e2,s2)].
  _ppo(p1, e1, s1, p2, e2, s2)
   -> _propi(p1, e1) < _propi(p2, e2)

axiom fence :
  forall p1, p2, e1, e2 : int [_fence(p1,e1,p2,e2)].
  _fence(p1, e1, p2, e2)
   -> _propi(p1, e1) < _propi(p2, e2)

axiom co_2 :
  forall p1, e1, p2, e2, s1, s2 : int [_co(p1,e1,s1,p2,e2,s2)].
  _co(p1, e1, s1, p2, e2, s2)
  -> _propi(p1, e1) < _propi(p2, e2)

axiom rfe :
  forall p1, p2, e1, e2, s1, s2 : int [_rf(p1,e1,s1,p2,e2,s2)].
  _rf(p1, e1, s1, p2, e2, s2) and p1 <> p2
  -> _propi(p1, e1) < _propi(p2, e2)

axiom fr :
  forall pr, pw1, pw2, r, w1, w2, sr, sw1, sw2 : int
    [_rf(pw1,w1,sw1,pr,r,sr),_co(pw1,w1,sw1,pw2,w2,sw2)].
  _rf(pw1, w1, sw1, pr, r, sr) and _co(pw1, w1, sw1, pw2, w2, sw2)
  -> _sci(pr, r) < _sci(pw2, w2) and _propi(pr, r) < _propi(pw2, w2)


goal g:
not (
 (p1 <> p0) and


 (PC=L1) and

 ((_e(p1,_e1,_s1))._dir=_R) and ((_e(p1,_e1,_s1))._var=_VX) and
 (((_e(p1,_e1,_s1))._val)._tint=2) and

 ((_e(p1,_e2,_s1))._dir=_W) and ((_e(p1,_e2,_s1))._var=_VX) and
 ( ((_e(p1,_e3,_s1))._val)._tint < 2) and

 ((_e(p1,_e3,_s1))._dir=_R) and ((_e(p1,_e3,_s1))._var=_VX) and
 (((_e(p1,_e2,_s1))._val)._tint=(((_e(p1,_e3,_s1))._val)._tint + 1)) and

 (_po(p1,_e2,p1,_e1)=true) and
 (_po(p1,_e3,p1,_e1)=true) and
 (_po(p1,_e3,p1,_e2)=true) and

 (_po_loc(p1,_e2,_s1,p1,_e1,_s1)=true) and
 (_po_loc(p1,_e3,_s1,p1,_e1,_s1)=true) and
 (_po_loc(p1,_e3,_s1,p1,_e2,_s1)=true) and
 (_ppo(p1,_e3,_s1,p1,_e1,_s1)=true) and
 (_ppo(p1,_e3,_s1,p1,_e2,_s1)=true) and
 (_rf(p1,_e2,_s1,p1,_e1,_s1)=true)


 and


 (PC <> L1 or
 (_e(p1,_e1,_s1))._dir <> _R or (_e(p1,_e1,_s1))._var <> _VX
 or ((_e(p1,_e1,_s1))._val)._tint <> 2)

)
