type cache_state = CACHE_I | CACHE_S | CACHE_E
type node_cmd = NODE_None | NODE_Get | NODE_GetX
type uni_cmd = UNI_None | UNI_Get | UNI_GetX | UNI_Put | UNI_PutX | UNI_Nak
type inv_cmd = INV_None | INV_Inv | INV_InvAck
type rp_cmd = RP_None | RP_Replace
type wb_cmd = WB_None | WB_Wb
type shwb_cmd = SHWB_None | SHWB_ShWb | SHWB_FAck
type nakc_cmd = NAKC_None | NAKC_Nakc

logic Home : int
logic ProcCmd_home : node_cmd
logic InvMarked_home : bool
logic CacheState_home : cache_state
logic UniMsg_Cmd_home : uni_cmd
logic UniMsg_Proc_home : int
logic InvMsg_Cmd_home : inv_cmd
logic RpMsg_Cmd_home : rp_cmd
logic Dir_Pending : bool
logic Dir_Local : bool
logic Dir_Dirty : bool
logic Dir_HeadVld : bool
logic Dir_HeadPtr : int
logic Dir_ShrVld : bool
logic Dir_ShrSet_home : bool
logic Dir_InvSet_home : bool
logic WbMsg_Cmd : wb_cmd
logic WbMsg_Proc : int
logic ShWbMsg_Cmd : shwb_cmd
logic ShWbMsg_Proc : int
logic NakcMsg_Cmd : nakc_cmd
logic Collecting : bool
logic Home' : int
logic ProcCmd_home' : node_cmd
logic InvMarked_home' : bool
logic CacheState_home' : cache_state
logic UniMsg_Cmd_home' : uni_cmd
logic UniMsg_Proc_home' : int
logic InvMsg_Cmd_home' : inv_cmd
logic RpMsg_Cmd_home' : rp_cmd
logic Dir_Pending' : bool
logic Dir_Local' : bool
logic Dir_Dirty' : bool
logic Dir_HeadVld' : bool
logic Dir_HeadPtr' : int
logic Dir_ShrVld' : bool
logic Dir_ShrSet_home' : bool
logic Dir_InvSet_home' : bool
logic WbMsg_Cmd' : wb_cmd
logic WbMsg_Proc' : int
logic ShWbMsg_Cmd' : shwb_cmd
logic ShWbMsg_Proc' : int
logic NakcMsg_Cmd' : nakc_cmd
logic Collecting' : bool
logic ProcCmd : int -> node_cmd
logic InvMarked : int -> bool
logic CacheState : int -> cache_state
logic Dir_ShrSet : int -> bool
logic Dir_InvSet : int -> bool
logic UniMsg_Cmd : int -> uni_cmd
logic UniMsg_Proc : int -> int
logic InvMsg_Cmd : int -> inv_cmd
logic RpMsg_Cmd : int -> rp_cmd
logic ProcCmd' : int -> node_cmd
logic InvMarked' : int -> bool
logic CacheState' : int -> cache_state
logic Dir_ShrSet' : int -> bool
logic Dir_InvSet' : int -> bool
logic UniMsg_Cmd' : int -> uni_cmd
logic UniMsg_Proc' : int -> int
logic InvMsg_Cmd' : int -> inv_cmd
logic RpMsg_Cmd' : int -> rp_cmd

goal initialisation:
(* init *)
(forall p:int[p]. (Home <> p and
ProcCmd_home = NODE_None and
InvMarked_home = false and
CacheState_home = CACHE_I and
UniMsg_Cmd_home = UNI_None and
InvMsg_Cmd_home = INV_None and
RpMsg_Cmd_home = RP_None and
Dir_Pending = false and
Dir_Local = false and
Dir_Dirty = false and
Dir_HeadVld = false and
Dir_ShrVld = false and
Dir_ShrSet_home = false and
Dir_InvSet_home = false and
WbMsg_Cmd = WB_None and
ShWbMsg_Cmd = SHWB_None and
NakcMsg_Cmd = NAKC_None and
Collecting = false and
ProcCmd(p) = NODE_None and
InvMarked(p) = false and
CacheState(p) = CACHE_I and
Dir_ShrSet(p) = false and
Dir_InvSet(p) = false and
UniMsg_Cmd(p) = UNI_None and
InvMsg_Cmd(p) = INV_None and
RpMsg_Cmd(p) = RP_None))

->

(* invariant *)
(not (exists z1,z2:int. z1 <> z2 and CacheState(z1) = CACHE_E and
CacheState(z2) = CACHE_E) and
not (exists z1:int. ShWbMsg_Cmd = SHWB_ShWb and
CacheState(z1) = CACHE_E) and
not (ShWbMsg_Cmd = SHWB_ShWb and
ShWbMsg_Proc = Home) and
not (exists z1:int. WbMsg_Cmd = WB_Wb and
CacheState(z1) = CACHE_E) and
not (WbMsg_Cmd = WB_Wb and
ShWbMsg_Cmd = SHWB_ShWb) and
not (Dir_HeadVld = false and
ShWbMsg_Cmd = SHWB_ShWb) and
not (Dir_HeadVld = false and
WbMsg_Cmd = WB_Wb) and
not (exists z1:int. Dir_Dirty = false and
CacheState(z1) = CACHE_E) and
not (Dir_Dirty = false and
ShWbMsg_Cmd = SHWB_ShWb) and
not (Dir_Dirty = false and
WbMsg_Cmd = WB_Wb) and
not (exists z1:int. UniMsg_Cmd_home = UNI_PutX and
CacheState(z1) = CACHE_E) and
not (UniMsg_Cmd_home = UNI_PutX and
ShWbMsg_Cmd = SHWB_ShWb) and
not (UniMsg_Cmd_home = UNI_PutX and
WbMsg_Cmd = WB_Wb) and
not (UniMsg_Cmd_home = UNI_PutX and
Dir_HeadVld = false) and
not (UniMsg_Cmd_home = UNI_PutX and
Dir_Dirty = false) and
not (exists z1:int. UniMsg_Cmd_home = UNI_Put and
CacheState(z1) = CACHE_E) and
not (UniMsg_Cmd_home = UNI_Put and
ShWbMsg_Cmd = SHWB_ShWb) and
not (UniMsg_Cmd_home = UNI_Put and
WbMsg_Cmd = WB_Wb) and
not (UniMsg_Cmd_home = UNI_Put and
Dir_HeadVld = false) and
not (UniMsg_Cmd_home = UNI_Put and
Dir_Dirty = false) and
not (exists z1:int. CacheState_home = CACHE_E and
CacheState(z1) = CACHE_E) and
not (CacheState_home = CACHE_E and
Dir_HeadVld = true) and
not (CacheState_home = CACHE_E and
Dir_Dirty = false) and
not (CacheState_home = CACHE_I and
Dir_Local = true and
Dir_Dirty = true) and
not (InvMarked_home = true) and
not (ProcCmd_home = NODE_Get and
Dir_Local = true) and
not (exists z1,z2:int. z1 <> z2 and Home <> z1 and
CacheState(z2) = CACHE_E and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
CacheState(z1) = CACHE_E and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
ShWbMsg_Cmd = SHWB_ShWb and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
WbMsg_Cmd = WB_Wb and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
Dir_HeadVld = false and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
Dir_HeadVld = false and
CacheState(z1) = CACHE_E) and
not (exists z1:int. Home <> z1 and
Dir_Dirty = false and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
UniMsg_Cmd_home = UNI_PutX and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
UniMsg_Cmd_home = UNI_Put and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
CacheState_home = CACHE_E and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1,z2:int. z1 <> z2 and Home <> z1 and
Home <> z2 and
UniMsg_Cmd(z1) = UNI_PutX and
UniMsg_Cmd(z2) = UNI_PutX))


axiom induction_hypothesis:
(* invariant before *)
(not (exists z1,z2:int. z1 <> z2 and CacheState(z1) = CACHE_E and
CacheState(z2) = CACHE_E) and
not (exists z1:int. ShWbMsg_Cmd = SHWB_ShWb and
CacheState(z1) = CACHE_E) and
not (ShWbMsg_Cmd = SHWB_ShWb and
ShWbMsg_Proc = Home) and
not (exists z1:int. WbMsg_Cmd = WB_Wb and
CacheState(z1) = CACHE_E) and
not (WbMsg_Cmd = WB_Wb and
ShWbMsg_Cmd = SHWB_ShWb) and
not (Dir_HeadVld = false and
ShWbMsg_Cmd = SHWB_ShWb) and
not (Dir_HeadVld = false and
WbMsg_Cmd = WB_Wb) and
not (exists z1:int. Dir_Dirty = false and
CacheState(z1) = CACHE_E) and
not (Dir_Dirty = false and
ShWbMsg_Cmd = SHWB_ShWb) and
not (Dir_Dirty = false and
WbMsg_Cmd = WB_Wb) and
not (exists z1:int. UniMsg_Cmd_home = UNI_PutX and
CacheState(z1) = CACHE_E) and
not (UniMsg_Cmd_home = UNI_PutX and
ShWbMsg_Cmd = SHWB_ShWb) and
not (UniMsg_Cmd_home = UNI_PutX and
WbMsg_Cmd = WB_Wb) and
not (UniMsg_Cmd_home = UNI_PutX and
Dir_HeadVld = false) and
not (UniMsg_Cmd_home = UNI_PutX and
Dir_Dirty = false) and
not (exists z1:int. UniMsg_Cmd_home = UNI_Put and
CacheState(z1) = CACHE_E) and
not (UniMsg_Cmd_home = UNI_Put and
ShWbMsg_Cmd = SHWB_ShWb) and
not (UniMsg_Cmd_home = UNI_Put and
WbMsg_Cmd = WB_Wb) and
not (UniMsg_Cmd_home = UNI_Put and
Dir_HeadVld = false) and
not (UniMsg_Cmd_home = UNI_Put and
Dir_Dirty = false) and
not (exists z1:int. CacheState_home = CACHE_E and
CacheState(z1) = CACHE_E) and
not (CacheState_home = CACHE_E and
Dir_HeadVld = true) and
not (CacheState_home = CACHE_E and
Dir_Dirty = false) and
not (CacheState_home = CACHE_I and
Dir_Local = true and
Dir_Dirty = true) and
not (InvMarked_home = true) and
not (ProcCmd_home = NODE_Get and
Dir_Local = true) and
not (exists z1,z2:int. z1 <> z2 and Home <> z1 and
CacheState(z2) = CACHE_E and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
CacheState(z1) = CACHE_E and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
ShWbMsg_Cmd = SHWB_ShWb and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
WbMsg_Cmd = WB_Wb and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
Dir_HeadVld = false and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
Dir_HeadVld = false and
CacheState(z1) = CACHE_E) and
not (exists z1:int. Home <> z1 and
Dir_Dirty = false and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
UniMsg_Cmd_home = UNI_PutX and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
UniMsg_Cmd_home = UNI_Put and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1:int. Home <> z1 and
CacheState_home = CACHE_E and
UniMsg_Cmd(z1) = UNI_PutX) and
not (exists z1,z2:int. z1 <> z2 and Home <> z1 and
Home <> z2 and
UniMsg_Cmd(z1) = UNI_PutX and
UniMsg_Cmd(z2) = UNI_PutX))


axiom transition_realtion:
( (* Transition Relation *)
(* transition pi_Remote_Get *)
(exists src:int. 
( (* requires *)
Home <> src and
ProcCmd(src) = NODE_None and
CacheState(src) = CACHE_I)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j1:int.
((_j1 = src) -> ProcCmd'(_j1) = NODE_Get) and
(not (_j1 = src) -> ProcCmd'(_j1) = ProcCmd(_j1))) and
(forall _j2:int.
((_j2 = src) -> UniMsg_Cmd'(_j2) = UNI_Get) and
(not (_j2 = src) -> UniMsg_Cmd'(_j2) = UniMsg_Cmd(_j2))) and
(forall _j3:int.
((_j3 = src) -> UniMsg_Proc'(_j3) = Home) and
(not (_j3 = src) -> UniMsg_Proc'(_j3) = UniMsg_Proc(_j3))) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition pi_Local_Get_Get *)
(( (* requires *)
ProcCmd_home = NODE_None and
CacheState_home = CACHE_I and
Dir_Pending = false and
Dir_Dirty = true)and
( (* actions *)
ProcCmd_home' = NODE_Get and
Dir_Pending' = true and
UniMsg_Cmd_home' = UNI_Get and
UniMsg_Proc_home' = Dir_HeadPtr and
Collecting' = false and
Home' = Home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition pi_Local_Get_Put_InvM *)
(( (* requires *)
ProcCmd_home = NODE_None and
InvMarked_home = true and
CacheState_home = CACHE_I and
Dir_Pending = false and
Dir_Dirty = false)and
( (* actions *)
Dir_Local' = true and
ProcCmd_home' = NODE_None and
InvMarked_home' = false and
CacheState_home' = CACHE_I and
Home' = Home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition pi_Local_Get_Put *)
(( (* requires *)
ProcCmd_home = NODE_None and
InvMarked_home = false and
CacheState_home = CACHE_I and
Dir_Pending = false and
Dir_Dirty = false)and
( (* actions *)
Dir_Local' = true and
ProcCmd_home' = NODE_None and
CacheState_home' = CACHE_S and
Home' = Home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition pi_Remote_GetX *)
(exists src:int. 
( (* requires *)
Home <> src and
ProcCmd(src) = NODE_None and
CacheState(src) = CACHE_I)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j4:int.
((_j4 = src) -> ProcCmd'(_j4) = NODE_GetX) and
(not (_j4 = src) -> ProcCmd'(_j4) = ProcCmd(_j4))) and
(forall _j5:int.
((_j5 = src) -> UniMsg_Cmd'(_j5) = UNI_GetX) and
(not (_j5 = src) -> UniMsg_Cmd'(_j5) = UniMsg_Cmd(_j5))) and
(forall _j6:int.
((_j6 = src) -> UniMsg_Proc'(_j6) = Home) and
(not (_j6 = src) -> UniMsg_Proc'(_j6) = UniMsg_Proc(_j6))) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition pi_Local_GetX_GetX *)
(( (* requires *)
ProcCmd_home = NODE_None and
CacheState_home <> CACHE_E and
Dir_Pending = false and
Dir_Dirty = true)and
( (* actions *)
ProcCmd_home' = NODE_GetX and
Dir_Pending' = true and
UniMsg_Cmd_home' = UNI_GetX and
UniMsg_Proc_home' = Dir_HeadPtr and
Collecting' = false and
Home' = Home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition pi_Local_GetX_PutX_HeadVld *)
(( (* requires *)
ProcCmd_home = NODE_None and
CacheState_home <> CACHE_E and
Dir_Pending = false and
Dir_Dirty = false and
Dir_HeadVld = true)and
( (* actions *)
Dir_Local' = true and
Dir_Dirty' = true and
Dir_Pending' = true and
Dir_HeadVld' = false and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
InvMsg_Cmd_home' = INV_None and
Collecting' = true and
ProcCmd_home' = NODE_None and
InvMarked_home' = false and
CacheState_home' = CACHE_E and
Home' = Home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_HeadPtr' = Dir_HeadPtr and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> Dir_InvSet'(p) = true) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((Dir_HeadPtr = p) -> Dir_InvSet'(p) = true) and
(not (Dir_HeadPtr = p) -> Dir_InvSet'(p) = false))) and
(forall p:int.
((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((Dir_HeadPtr = p) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_HeadPtr = p) -> InvMsg_Cmd'(p) = INV_None))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition pi_Local_GetX_PutX *)
(( (* requires *)
ProcCmd_home = NODE_None and
CacheState_home <> CACHE_E and
Dir_Pending = false and
Dir_Dirty = false and
Dir_HeadVld = false)and
( (* actions *)
Dir_Local' = true and
Dir_Dirty' = true and
ProcCmd_home' = NODE_None and
InvMarked_home' = false and
CacheState_home' = CACHE_E and
Home' = Home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition pi_Remote_PutX *)
(exists dst:int. 
( (* requires *)
Home <> dst and
ProcCmd(dst) = NODE_None and
CacheState(dst) = CACHE_E)and
( (* actions *)
WbMsg_Cmd' = WB_Wb and
WbMsg_Proc' = dst and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j7:int.
((_j7 = dst) -> CacheState'(_j7) = CACHE_I) and
(not (_j7 = dst) -> CacheState'(_j7) = CacheState(_j7))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition pi_Local_PutX_pending *)
(( (* requires *)
ProcCmd_home = NODE_None and
CacheState_home = CACHE_E and
Dir_Pending = true)and
( (* actions *)
CacheState_home' = CACHE_I and
Dir_Dirty' = false and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition pi_Local_PutX *)
(( (* requires *)
ProcCmd_home = NODE_None and
CacheState_home = CACHE_E and
Dir_Pending = false)and
( (* actions *)
CacheState_home' = CACHE_I and
Dir_Local' = false and
Dir_Dirty' = false and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition pi_Remote_Replace *)
(exists src:int. 
( (* requires *)
Home <> src and
ProcCmd(src) = NODE_None and
CacheState(src) = CACHE_S)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j8:int.
((_j8 = src) -> CacheState'(_j8) = CACHE_I) and
(not (_j8 = src) -> CacheState'(_j8) = CacheState(_j8))) and
(forall _j9:int.
((_j9 = src) -> RpMsg_Cmd'(_j9) = RP_Replace) and
(not (_j9 = src) -> RpMsg_Cmd'(_j9) = RpMsg_Cmd(_j9))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) ))


or

(* transition pi_Local_Replace *)
(( (* requires *)
ProcCmd_home = NODE_None and
CacheState_home = CACHE_S)and
( (* actions *)
Dir_Local' = false and
CacheState_home' = CACHE_I and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Nak *)
(exists dst:int. 
( (* requires *)
UniMsg_Cmd(dst) = UNI_Nak)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j10:int.
((_j10 = dst) -> UniMsg_Cmd'(_j10) = UNI_None) and
(not (_j10 = dst) -> UniMsg_Cmd'(_j10) = UniMsg_Cmd(_j10))) and
(forall _j11:int.
((_j11 = dst) -> ProcCmd'(_j11) = NODE_None) and
(not (_j11 = dst) -> ProcCmd'(_j11) = ProcCmd(_j11))) and
(forall _j12:int.
((_j12 = dst) -> InvMarked'(_j12) = false) and
(not (_j12 = dst) -> InvMarked'(_j12) = InvMarked(_j12))) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Nak_home *)
(( (* requires *)
UniMsg_Cmd_home = UNI_Nak)and
( (* actions *)
UniMsg_Cmd_home' = UNI_None and
ProcCmd_home' = NODE_None and
InvMarked_home' = false and
Home' = Home and
CacheState_home' = CacheState_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Nak_Clear *)
(( (* requires *)
NakcMsg_Cmd = NAKC_Nakc)and
( (* actions *)
NakcMsg_Cmd' = NAKC_None and
Dir_Pending' = false and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_Get_Nak1 *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = true and
UniMsg_Cmd(src) = UNI_Get and
UniMsg_Proc(src) = Home and
RpMsg_Cmd(src) <> RP_Replace)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j13:int.
((_j13 = src) -> UniMsg_Cmd'(_j13) = UNI_Nak) and
(not (_j13 = src) -> UniMsg_Cmd'(_j13) = UniMsg_Cmd(_j13))) and
(forall _j14:int.
((_j14 = src) -> UniMsg_Proc'(_j14) = Home) and
(not (_j14 = src) -> UniMsg_Proc'(_j14) = UniMsg_Proc(_j14))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_Get_Nak *)
(exists src:int. 
( (* requires *)
Home <> src and
CacheState_home <> CACHE_E and
Dir_Local = true and
Dir_Dirty = true and
UniMsg_Cmd(src) = UNI_Get and
UniMsg_Proc(src) = Home and
RpMsg_Cmd(src) <> RP_Replace)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j15:int.
((_j15 = src) -> UniMsg_Cmd'(_j15) = UNI_Nak) and
(not (_j15 = src) -> UniMsg_Cmd'(_j15) = UniMsg_Cmd(_j15))) and
(forall _j16:int.
((_j16 = src) -> UniMsg_Proc'(_j16) = Home) and
(not (_j16 = src) -> UniMsg_Proc'(_j16) = UniMsg_Proc(_j16))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_Get_Nak *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Local = false and
Dir_Dirty = true and
Dir_HeadPtr = src and
UniMsg_Cmd(src) = UNI_Get and
UniMsg_Proc(src) = Home and
RpMsg_Cmd(src) <> RP_Replace)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j17:int.
((_j17 = src) -> UniMsg_Cmd'(_j17) = UNI_Nak) and
(not (_j17 = src) -> UniMsg_Cmd'(_j17) = UniMsg_Cmd(_j17))) and
(forall _j18:int.
((_j18 = src) -> UniMsg_Proc'(_j18) = Home) and
(not (_j18 = src) -> UniMsg_Proc'(_j18) = UniMsg_Proc(_j18))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_Get_Get *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = false and
Dir_Local = false and
Dir_Dirty = true and
Dir_HeadPtr <> src and
UniMsg_Cmd(src) = UNI_Get and
UniMsg_Proc(src) = Home and
RpMsg_Cmd(src) <> RP_Replace)and
( (* actions *)
Dir_Pending' = true and
Collecting' = false and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall _j19:int.
((_j19 = src) -> UniMsg_Cmd'(_j19) = UNI_Get) and
(not (_j19 = src) -> UniMsg_Cmd'(_j19) = UniMsg_Cmd(_j19))) and
(forall _j20:int.
((_j20 = src) -> UniMsg_Proc'(_j20) = Dir_HeadPtr) and
(not (_j20 = src) -> UniMsg_Proc'(_j20) = UniMsg_Proc(_j20))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_Get_Put1_Head *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = false and
Dir_Dirty = false and
Dir_HeadVld = true and
UniMsg_Cmd(src) = UNI_Get and
UniMsg_Proc(src) = Home and
RpMsg_Cmd(src) <> RP_Replace)and
( (* actions *)
Dir_ShrVld' = true and
Dir_InvSet_home' = Dir_ShrSet_home and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrSet_home' = Dir_ShrSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j21:int.
((_j21 = src) -> Dir_ShrSet'(_j21) = true) and
(not (_j21 = src) -> Dir_ShrSet'(_j21) = Dir_ShrSet(_j21))) and
(forall p:int.
((p = src) -> Dir_InvSet'(p) = true) and
(not (p = src) -> Dir_InvSet'(p) = Dir_ShrSet(p))) and
(forall _j22:int.
((_j22 = src) -> UniMsg_Cmd'(_j22) = UNI_Put) and
(not (_j22 = src) -> UniMsg_Cmd'(_j22) = UniMsg_Cmd(_j22))) and
(forall _j23:int.
((_j23 = src) -> UniMsg_Proc'(_j23) = Home) and
(not (_j23 = src) -> UniMsg_Proc'(_j23) = UniMsg_Proc(_j23))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_Get_Put1 *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = false and
Dir_Dirty = false and
Dir_HeadVld = false and
UniMsg_Cmd(src) = UNI_Get and
UniMsg_Proc(src) = Home and
RpMsg_Cmd(src) <> RP_Replace)and
( (* actions *)
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j24:int.
((_j24 = src) -> UniMsg_Cmd'(_j24) = UNI_Put) and
(not (_j24 = src) -> UniMsg_Cmd'(_j24) = UniMsg_Cmd(_j24))) and
(forall _j25:int.
((_j25 = src) -> UniMsg_Proc'(_j25) = Home) and
(not (_j25 = src) -> UniMsg_Proc'(_j25) = UniMsg_Proc(_j25))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_Get_Put2_dirty *)
(exists src:int. 
( (* requires *)
Home <> src and
CacheState_home = CACHE_E and
Dir_Pending = false and
Dir_Local = true and
Dir_Dirty = true and
UniMsg_Cmd(src) = UNI_Get and
UniMsg_Proc(src) = Home and
RpMsg_Cmd(src) <> RP_Replace)and
( (* actions *)
Dir_Dirty' = false and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
CacheState_home' = CACHE_S and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j26:int.
((_j26 = src) -> UniMsg_Cmd'(_j26) = UNI_Put) and
(not (_j26 = src) -> UniMsg_Cmd'(_j26) = UniMsg_Cmd(_j26))) and
(forall _j27:int.
((_j27 = src) -> UniMsg_Proc'(_j27) = Home) and
(not (_j27 = src) -> UniMsg_Proc'(_j27) = UniMsg_Proc(_j27))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Remote_Get_Nak *)
(exists src,dst:int. src <> dst and 
( (* requires *)
Home <> dst and
CacheState(dst) <> CACHE_E and
UniMsg_Cmd(src) = UNI_Get and
UniMsg_Proc(src) = dst)and
( (* actions *)
NakcMsg_Cmd' = NAKC_Nakc and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
Collecting' = Collecting and
(forall _j28:int.
((_j28 = src) -> UniMsg_Cmd'(_j28) = UNI_Nak) and
(not (_j28 = src) -> UniMsg_Cmd'(_j28) = UniMsg_Cmd(_j28))) and
(forall _j29:int.
((_j29 = src) -> UniMsg_Proc'(_j29) = dst) and
(not (_j29 = src) -> UniMsg_Proc'(_j29) = UniMsg_Proc(_j29))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Remote_Get_Put *)
(exists src,dst:int. src <> dst and 
( (* requires *)
Home <> src and
Home <> dst and
CacheState(dst) = CACHE_E and
UniMsg_Cmd(src) = UNI_Get and
UniMsg_Proc(src) = dst)and
( (* actions *)
ShWbMsg_Cmd' = SHWB_ShWb and
ShWbMsg_Proc' = src and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j30:int.
((_j30 = dst) -> CacheState'(_j30) = CACHE_S) and
(not (_j30 = dst) -> CacheState'(_j30) = CacheState(_j30))) and
(forall _j31:int.
((_j31 = src) -> UniMsg_Cmd'(_j31) = UNI_Put) and
(not (_j31 = src) -> UniMsg_Cmd'(_j31) = UniMsg_Cmd(_j31))) and
(forall _j32:int.
((_j32 = src) -> UniMsg_Proc'(_j32) = dst) and
(not (_j32 = src) -> UniMsg_Proc'(_j32) = UniMsg_Proc(_j32))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Remote_Get_Put_home *)
(exists dst:int. 
( (* requires *)
Home <> dst and
UniMsg_Cmd_home = UNI_Get and
UniMsg_Proc_home = dst and
CacheState(dst) = CACHE_E)and
( (* actions *)
UniMsg_Cmd_home' = UNI_Put and
UniMsg_Proc_home' = dst and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j33:int.
((_j33 = dst) -> CacheState'(_j33) = CACHE_S) and
(not (_j33 = dst) -> CacheState'(_j33) = CacheState(_j33))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_Nak1 *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = true and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j34:int.
((_j34 = src) -> UniMsg_Cmd'(_j34) = UNI_Nak) and
(not (_j34 = src) -> UniMsg_Cmd'(_j34) = UniMsg_Cmd(_j34))) and
(forall _j35:int.
((_j35 = src) -> UniMsg_Proc'(_j35) = Home) and
(not (_j35 = src) -> UniMsg_Proc'(_j35) = UniMsg_Proc(_j35))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_Nak *)
(exists src:int. 
( (* requires *)
Home <> src and
CacheState_home <> CACHE_E and
Dir_Local = true and
Dir_Dirty = true and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j36:int.
((_j36 = src) -> UniMsg_Cmd'(_j36) = UNI_Nak) and
(not (_j36 = src) -> UniMsg_Cmd'(_j36) = UniMsg_Cmd(_j36))) and
(forall _j37:int.
((_j37 = src) -> UniMsg_Proc'(_j37) = Home) and
(not (_j37 = src) -> UniMsg_Proc'(_j37) = UniMsg_Proc(_j37))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_Nak *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Local = false and
Dir_Dirty = true and
Dir_HeadPtr = src and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j38:int.
((_j38 = src) -> UniMsg_Cmd'(_j38) = UNI_Nak) and
(not (_j38 = src) -> UniMsg_Cmd'(_j38) = UniMsg_Cmd(_j38))) and
(forall _j39:int.
((_j39 = src) -> UniMsg_Proc'(_j39) = Home) and
(not (_j39 = src) -> UniMsg_Proc'(_j39) = UniMsg_Proc(_j39))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_GetX *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = false and
Dir_Local = false and
Dir_Dirty = true and
Dir_HeadPtr <> src and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Dir_Pending' = true and
Collecting' = false and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall _j40:int.
((_j40 = src) -> UniMsg_Cmd'(_j40) = UNI_GetX) and
(not (_j40 = src) -> UniMsg_Cmd'(_j40) = UniMsg_Cmd(_j40))) and
(forall _j41:int.
((_j41 = src) -> UniMsg_Proc'(_j41) = Dir_HeadPtr) and
(not (_j41 = src) -> UniMsg_Proc'(_j41) = UniMsg_Proc(_j41))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_1 *)
(exists src:int. 
( (* requires *)
Home <> src and
ProcCmd_home = NODE_Get and
Dir_Pending = false and
Dir_Local = true and
Dir_Dirty = false and
Dir_HeadVld = false and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
CacheState_home' = CACHE_I and
InvMarked_home' = true and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
Dir_InvSet'(p) = false) and
(forall _j42:int.
((_j42 = src) -> UniMsg_Cmd'(_j42) = UNI_PutX) and
(not (_j42 = src) -> UniMsg_Cmd'(_j42) = UniMsg_Cmd(_j42))) and
(forall _j43:int.
((_j43 = src) -> UniMsg_Proc'(_j43) = Home) and
(not (_j43 = src) -> UniMsg_Proc'(_j43) = UniMsg_Proc(_j43))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_2 *)
(exists src:int. 
( (* requires *)
Home <> src and
ProcCmd_home <> NODE_Get and
Dir_Pending = false and
Dir_Local = true and
Dir_Dirty = false and
Dir_HeadVld = false and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
CacheState_home' = CACHE_I and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
Dir_InvSet'(p) = false) and
(forall _j44:int.
((_j44 = src) -> UniMsg_Cmd'(_j44) = UNI_PutX) and
(not (_j44 = src) -> UniMsg_Cmd'(_j44) = UniMsg_Cmd(_j44))) and
(forall _j45:int.
((_j45 = src) -> UniMsg_Proc'(_j45) = Home) and
(not (_j45 = src) -> UniMsg_Proc'(_j45) = UniMsg_Proc(_j45))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_3 *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = false and
Dir_Local = false and
Dir_Dirty = false and
Dir_HeadVld = false and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
CacheState_home' = CACHE_I and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
Dir_InvSet'(p) = false) and
(forall _j46:int.
((_j46 = src) -> UniMsg_Cmd'(_j46) = UNI_PutX) and
(not (_j46 = src) -> UniMsg_Cmd'(_j46) = UniMsg_Cmd(_j46))) and
(forall _j47:int.
((_j47 = src) -> UniMsg_Proc'(_j47) = Home) and
(not (_j47 = src) -> UniMsg_Proc'(_j47) = UniMsg_Proc(_j47))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_4 *)
(exists src:int. 
( (* requires *)
Home <> src and
ProcCmd_home = NODE_Get and
Dir_Pending = false and
Dir_Local = true and
Dir_Dirty = false and
Dir_HeadPtr = src and
Dir_ShrSet_home = false and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home
and (forall p:int.src = p or 
(Dir_ShrSet(p) = false))
)and
( (* actions *)
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
CacheState_home' = CACHE_I and
InvMarked_home' = true and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
Dir_InvSet'(p) = false) and
(forall _j48:int.
((_j48 = src) -> UniMsg_Cmd'(_j48) = UNI_PutX) and
(not (_j48 = src) -> UniMsg_Cmd'(_j48) = UniMsg_Cmd(_j48))) and
(forall _j49:int.
((_j49 = src) -> UniMsg_Proc'(_j49) = Home) and
(not (_j49 = src) -> UniMsg_Proc'(_j49) = UniMsg_Proc(_j49))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_5 *)
(exists src:int. 
( (* requires *)
Home <> src and
ProcCmd_home <> NODE_Get and
Dir_Pending = false and
Dir_Local = true and
Dir_Dirty = false and
Dir_HeadPtr = src and
Dir_ShrSet_home = false and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home
and (forall p:int.src = p or 
(Dir_ShrSet(p) = false))
)and
( (* actions *)
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
CacheState_home' = CACHE_I and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
Dir_InvSet'(p) = false) and
(forall _j50:int.
((_j50 = src) -> UniMsg_Cmd'(_j50) = UNI_PutX) and
(not (_j50 = src) -> UniMsg_Cmd'(_j50) = UniMsg_Cmd(_j50))) and
(forall _j51:int.
((_j51 = src) -> UniMsg_Proc'(_j51) = Home) and
(not (_j51 = src) -> UniMsg_Proc'(_j51) = UniMsg_Proc(_j51))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_6 *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = false and
Dir_Local = false and
Dir_Dirty = false and
Dir_HeadPtr = src and
Dir_ShrSet_home = false and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home
and (forall p:int.src = p or 
(Dir_ShrSet(p) = false))
)and
( (* actions *)
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
CacheState_home' = CACHE_I and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
Dir_InvSet'(p) = false) and
(forall _j52:int.
((_j52 = src) -> UniMsg_Cmd'(_j52) = UNI_PutX) and
(not (_j52 = src) -> UniMsg_Cmd'(_j52) = UniMsg_Cmd(_j52))) and
(forall _j53:int.
((_j53 = src) -> UniMsg_Proc'(_j53) = Home) and
(not (_j53 = src) -> UniMsg_Proc'(_j53) = UniMsg_Proc(_j53))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_7 *)
(exists src:int. 
( (* requires *)
Home <> src and
ProcCmd_home <> NODE_Get and
Dir_Pending = false and
Dir_Local = true and
Dir_Dirty = false and
Dir_HeadVld = true and
Dir_HeadPtr <> src and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Dir_Pending' = true and
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
InvMsg_Cmd_home' = INV_None and
CacheState_home' = CACHE_I and
Collecting' = true and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> Dir_InvSet'(p) = true) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> Dir_InvSet'(p) = true) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> Dir_InvSet'(p) = false) and
(not (p = src) -> Dir_InvSet'(p) = false)))) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> InvMsg_Cmd'(p) = INV_None) and
(not (p = src) -> InvMsg_Cmd'(p) = INV_None)))) and
(forall _j54:int.
((_j54 = src) -> UniMsg_Cmd'(_j54) = UNI_PutX) and
(not (_j54 = src) -> UniMsg_Cmd'(_j54) = UniMsg_Cmd(_j54))) and
(forall _j55:int.
((_j55 = src) -> UniMsg_Proc'(_j55) = Home) and
(not (_j55 = src) -> UniMsg_Proc'(_j55) = UniMsg_Proc(_j55))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_8 *)
(exists src,pp:int. src <> pp and 
( (* requires *)
Home <> src and
ProcCmd_home <> NODE_Get and
Dir_Pending = false and
Dir_Local = true and
Dir_Dirty = false and
Dir_HeadVld = true and
Dir_HeadPtr = src and
Dir_ShrSet(pp) = true and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Dir_Pending' = true and
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
InvMsg_Cmd_home' = INV_None and
CacheState_home' = CACHE_I and
Collecting' = true and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> Dir_InvSet'(p) = true) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> Dir_InvSet'(p) = true) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> Dir_InvSet'(p) = false) and
(not (p = src) -> Dir_InvSet'(p) = false)))) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> InvMsg_Cmd'(p) = INV_None) and
(not (p = src) -> InvMsg_Cmd'(p) = INV_None)))) and
(forall _j56:int.
((_j56 = src) -> UniMsg_Cmd'(_j56) = UNI_PutX) and
(not (_j56 = src) -> UniMsg_Cmd'(_j56) = UniMsg_Cmd(_j56))) and
(forall _j57:int.
((_j57 = src) -> UniMsg_Proc'(_j57) = Home) and
(not (_j57 = src) -> UniMsg_Proc'(_j57) = UniMsg_Proc(_j57))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_8_home *)
(exists src:int. 
( (* requires *)
Home <> src and
ProcCmd_home <> NODE_Get and
Dir_Pending = false and
Dir_Local = true and
Dir_Dirty = false and
Dir_HeadVld = true and
Dir_HeadPtr = src and
Dir_ShrSet_home = true and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Dir_Pending' = true and
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
InvMsg_Cmd_home' = INV_None and
CacheState_home' = CACHE_I and
Collecting' = true and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> Dir_InvSet'(p) = true) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> Dir_InvSet'(p) = true) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> Dir_InvSet'(p) = false) and
(not (p = src) -> Dir_InvSet'(p) = false)))) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> InvMsg_Cmd'(p) = INV_None) and
(not (p = src) -> InvMsg_Cmd'(p) = INV_None)))) and
(forall _j58:int.
((_j58 = src) -> UniMsg_Cmd'(_j58) = UNI_PutX) and
(not (_j58 = src) -> UniMsg_Cmd'(_j58) = UniMsg_Cmd(_j58))) and
(forall _j59:int.
((_j59 = src) -> UniMsg_Proc'(_j59) = Home) and
(not (_j59 = src) -> UniMsg_Proc'(_j59) = UniMsg_Proc(_j59))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_9 *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = false and
Dir_Local = false and
Dir_Dirty = false and
Dir_HeadVld = true and
Dir_HeadPtr <> src and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Dir_Pending' = true and
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
InvMsg_Cmd_home' = INV_None and
Collecting' = true and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> Dir_InvSet'(p) = true) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> Dir_InvSet'(p) = true) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> Dir_InvSet'(p) = false) and
(not (p = src) -> Dir_InvSet'(p) = false)))) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> InvMsg_Cmd'(p) = INV_None) and
(not (p = src) -> InvMsg_Cmd'(p) = INV_None)))) and
(forall _j60:int.
((_j60 = src) -> UniMsg_Cmd'(_j60) = UNI_PutX) and
(not (_j60 = src) -> UniMsg_Cmd'(_j60) = UniMsg_Cmd(_j60))) and
(forall _j61:int.
((_j61 = src) -> UniMsg_Proc'(_j61) = Home) and
(not (_j61 = src) -> UniMsg_Proc'(_j61) = UniMsg_Proc(_j61))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_10 *)
(exists src,pp:int. src <> pp and 
( (* requires *)
Home <> src and
Dir_Pending = false and
Dir_Local = false and
Dir_Dirty = false and
Dir_HeadVld = true and
Dir_HeadPtr = src and
Dir_ShrSet(pp) = true and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Dir_Pending' = true and
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
InvMsg_Cmd_home' = INV_None and
Collecting' = true and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> Dir_InvSet'(p) = true) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> Dir_InvSet'(p) = true) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> Dir_InvSet'(p) = false) and
(not (p = src) -> Dir_InvSet'(p) = false)))) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> InvMsg_Cmd'(p) = INV_None) and
(not (p = src) -> InvMsg_Cmd'(p) = INV_None)))) and
(forall _j62:int.
((_j62 = src) -> UniMsg_Cmd'(_j62) = UNI_PutX) and
(not (_j62 = src) -> UniMsg_Cmd'(_j62) = UniMsg_Cmd(_j62))) and
(forall _j63:int.
((_j63 = src) -> UniMsg_Proc'(_j63) = Home) and
(not (_j63 = src) -> UniMsg_Proc'(_j63) = UniMsg_Proc(_j63))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_10_home *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = false and
Dir_Local = false and
Dir_Dirty = false and
Dir_HeadVld = true and
Dir_HeadPtr = src and
Dir_ShrSet_home = true and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Dir_Pending' = true and
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
InvMsg_Cmd_home' = INV_None and
Collecting' = true and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> Dir_InvSet'(p) = true) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> Dir_InvSet'(p) = true) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> Dir_InvSet'(p) = false) and
(not (p = src) -> Dir_InvSet'(p) = false)))) and
(forall p:int.
((Dir_HeadVld = true and
Dir_HeadPtr = p) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_HeadVld = true and
Dir_HeadPtr = p) -> ((Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> InvMsg_Cmd'(p) = INV_Inv) and
(not (Dir_ShrVld = true and
Dir_ShrSet(p) = true) -> ((p = src) -> InvMsg_Cmd'(p) = INV_None) and
(not (p = src) -> InvMsg_Cmd'(p) = INV_None)))) and
(forall _j64:int.
((_j64 = src) -> UniMsg_Cmd'(_j64) = UNI_PutX) and
(not (_j64 = src) -> UniMsg_Cmd'(_j64) = UniMsg_Cmd(_j64))) and
(forall _j65:int.
((_j65 = src) -> UniMsg_Proc'(_j65) = Home) and
(not (_j65 = src) -> UniMsg_Proc'(_j65) = UniMsg_Proc(_j65))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_GetX_PutX_11 *)
(exists src:int. 
( (* requires *)
Home <> src and
CacheState_home = CACHE_E and
Dir_Pending = false and
Dir_Local = true and
Dir_Dirty = true and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = Home)and
( (* actions *)
Dir_Local' = false and
Dir_Dirty' = true and
Dir_HeadVld' = true and
Dir_HeadPtr' = src and
Dir_ShrVld' = false and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
CacheState_home' = CACHE_I and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall p:int.
Dir_ShrSet'(p) = false) and
(forall p:int.
Dir_InvSet'(p) = false) and
(forall _j66:int.
((_j66 = src) -> UniMsg_Cmd'(_j66) = UNI_PutX) and
(not (_j66 = src) -> UniMsg_Cmd'(_j66) = UniMsg_Cmd(_j66))) and
(forall _j67:int.
((_j67 = src) -> UniMsg_Proc'(_j67) = Home) and
(not (_j67 = src) -> UniMsg_Proc'(_j67) = UniMsg_Proc(_j67))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Remote_GetX_Nak *)
(exists src,dst:int. src <> dst and 
( (* requires *)
Home <> dst and
CacheState(dst) <> CACHE_E and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = dst)and
( (* actions *)
NakcMsg_Cmd' = NAKC_Nakc and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
Collecting' = Collecting and
(forall _j68:int.
((_j68 = src) -> UniMsg_Cmd'(_j68) = UNI_Nak) and
(not (_j68 = src) -> UniMsg_Cmd'(_j68) = UniMsg_Cmd(_j68))) and
(forall _j69:int.
((_j69 = src) -> UniMsg_Proc'(_j69) = dst) and
(not (_j69 = src) -> UniMsg_Proc'(_j69) = UniMsg_Proc(_j69))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Remote_GetX_Nak_home *)
(exists dst:int. 
( (* requires *)
Home <> dst and
UniMsg_Cmd_home = UNI_GetX and
UniMsg_Proc_home = dst and
CacheState(dst) <> CACHE_E)and
( (* actions *)
UniMsg_Cmd_home' = UNI_Nak and
UniMsg_Proc_home' = dst and
NakcMsg_Cmd' = NAKC_Nakc and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Remote_GetX_PutX_home *)
(exists dst:int. 
( (* requires *)
Home <> dst and
UniMsg_Cmd_home = UNI_GetX and
UniMsg_Proc_home = dst and
CacheState(dst) = CACHE_E)and
( (* actions *)
UniMsg_Cmd_home' = UNI_PutX and
UniMsg_Proc_home' = dst and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j70:int.
((_j70 = dst) -> CacheState'(_j70) = CACHE_I) and
(not (_j70 = dst) -> CacheState'(_j70) = CacheState(_j70))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Remote_GetX_PutX *)
(exists src,dst:int. src <> dst and 
( (* requires *)
Home <> src and
Home <> dst and
CacheState(dst) = CACHE_E and
UniMsg_Cmd(src) = UNI_GetX and
UniMsg_Proc(src) = dst)and
( (* actions *)
ShWbMsg_Cmd' = SHWB_FAck and
ShWbMsg_Proc' = src and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j71:int.
((_j71 = dst) -> CacheState'(_j71) = CACHE_I) and
(not (_j71 = dst) -> CacheState'(_j71) = CacheState(_j71))) and
(forall _j72:int.
((_j72 = src) -> UniMsg_Cmd'(_j72) = UNI_PutX) and
(not (_j72 = src) -> UniMsg_Cmd'(_j72) = UniMsg_Cmd(_j72))) and
(forall _j73:int.
((_j73 = src) -> UniMsg_Proc'(_j73) = dst) and
(not (_j73 = src) -> UniMsg_Proc'(_j73) = UniMsg_Proc(_j73))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_Put_inv *)
(( (* requires *)
InvMarked_home = true and
UniMsg_Cmd_home = UNI_Put)and
( (* actions *)
UniMsg_Cmd_home' = UNI_None and
Dir_Pending' = false and
Dir_Dirty' = false and
Dir_Local' = true and
ProcCmd_home' = NODE_None and
InvMarked_home' = false and
CacheState_home' = CACHE_I and
Home' = Home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_Put *)
(( (* requires *)
InvMarked_home = false and
UniMsg_Cmd_home = UNI_Put)and
( (* actions *)
UniMsg_Cmd_home' = UNI_None and
Dir_Pending' = false and
Dir_Dirty' = false and
Dir_Local' = true and
ProcCmd_home' = NODE_None and
CacheState_home' = CACHE_S and
Home' = Home and
InvMarked_home' = InvMarked_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Remote_Put_inv *)
(exists dst:int. 
( (* requires *)
Home <> dst and
InvMarked(dst) = true and
UniMsg_Cmd(dst) = UNI_Put)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j74:int.
((_j74 = dst) -> UniMsg_Cmd'(_j74) = UNI_None) and
(not (_j74 = dst) -> UniMsg_Cmd'(_j74) = UniMsg_Cmd(_j74))) and
(forall _j75:int.
((_j75 = dst) -> ProcCmd'(_j75) = NODE_None) and
(not (_j75 = dst) -> ProcCmd'(_j75) = ProcCmd(_j75))) and
(forall _j76:int.
((_j76 = dst) -> InvMarked'(_j76) = false) and
(not (_j76 = dst) -> InvMarked'(_j76) = InvMarked(_j76))) and
(forall _j77:int.
((_j77 = dst) -> CacheState'(_j77) = CACHE_I) and
(not (_j77 = dst) -> CacheState'(_j77) = CacheState(_j77))) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Remote_Put *)
(exists dst:int. 
( (* requires *)
Home <> dst and
InvMarked(dst) = false and
UniMsg_Cmd(dst) = UNI_Put)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j78:int.
((_j78 = dst) -> UniMsg_Cmd'(_j78) = UNI_None) and
(not (_j78 = dst) -> UniMsg_Cmd'(_j78) = UniMsg_Cmd(_j78))) and
(forall _j79:int.
((_j79 = dst) -> ProcCmd'(_j79) = NODE_None) and
(not (_j79 = dst) -> ProcCmd'(_j79) = ProcCmd(_j79))) and
(forall _j80:int.
((_j80 = dst) -> CacheState'(_j80) = CACHE_S) and
(not (_j80 = dst) -> CacheState'(_j80) = CacheState(_j80))) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Local_PutXAcksDone *)
(( (* requires *)
UniMsg_Cmd_home = UNI_PutX)and
( (* actions *)
UniMsg_Cmd_home' = UNI_None and
Dir_Pending' = false and
Dir_Local' = true and
Dir_HeadVld' = false and
ProcCmd_home' = NODE_None and
InvMarked_home' = false and
CacheState_home' = CACHE_E and
Home' = Home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Dirty' = Dir_Dirty and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Remote_PutX *)
(exists dst:int. 
( (* requires *)
Home <> dst and
ProcCmd(dst) = NODE_GetX and
UniMsg_Cmd(dst) = UNI_PutX)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j81:int.
((_j81 = dst) -> UniMsg_Cmd'(_j81) = UNI_None) and
(not (_j81 = dst) -> UniMsg_Cmd'(_j81) = UniMsg_Cmd(_j81))) and
(forall _j82:int.
((_j82 = dst) -> ProcCmd'(_j82) = NODE_None) and
(not (_j82 = dst) -> ProcCmd'(_j82) = ProcCmd(_j82))) and
(forall _j83:int.
((_j83 = dst) -> InvMarked'(_j83) = false) and
(not (_j83 = dst) -> InvMarked'(_j83) = InvMarked(_j83))) and
(forall _j84:int.
((_j84 = dst) -> CacheState'(_j84) = CACHE_E) and
(not (_j84 = dst) -> CacheState'(_j84) = CacheState(_j84))) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Inv_get *)
(exists dst:int. 
( (* requires *)
Home <> dst and
ProcCmd(dst) = NODE_Get and
InvMsg_Cmd(dst) = INV_Inv)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j85:int.
((_j85 = dst) -> InvMsg_Cmd'(_j85) = INV_InvAck) and
(not (_j85 = dst) -> InvMsg_Cmd'(_j85) = InvMsg_Cmd(_j85))) and
(forall _j86:int.
((_j86 = dst) -> CacheState'(_j86) = CACHE_I) and
(not (_j86 = dst) -> CacheState'(_j86) = CacheState(_j86))) and
(forall _j87:int.
((_j87 = dst) -> InvMarked'(_j87) = true) and
(not (_j87 = dst) -> InvMarked'(_j87) = InvMarked(_j87))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Inv *)
(exists dst:int. 
( (* requires *)
Home <> dst and
ProcCmd(dst) <> NODE_Get and
InvMsg_Cmd(dst) = INV_Inv)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j88:int.
((_j88 = dst) -> InvMsg_Cmd'(_j88) = INV_InvAck) and
(not (_j88 = dst) -> InvMsg_Cmd'(_j88) = InvMsg_Cmd(_j88))) and
(forall _j89:int.
((_j89 = dst) -> CacheState'(_j89) = CACHE_I) and
(not (_j89 = dst) -> CacheState'(_j89) = CacheState(_j89))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_InvAck_exists *)
(exists src,pp:int. src <> pp and 
( (* requires *)
Home <> src and
Dir_Pending = true and
Dir_InvSet(src) = true and
Dir_InvSet(pp) = true and
InvMsg_Cmd(src) = INV_InvAck)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j90:int.
((_j90 = src) -> InvMsg_Cmd'(_j90) = INV_None) and
(not (_j90 = src) -> InvMsg_Cmd'(_j90) = InvMsg_Cmd(_j90))) and
(forall _j91:int.
((_j91 = src) -> Dir_InvSet'(_j91) = false) and
(not (_j91 = src) -> Dir_InvSet'(_j91) = Dir_InvSet(_j91))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_InvAck_exists_home *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = true and
Dir_InvSet_home = true and
Dir_InvSet(src) = true and
InvMsg_Cmd(src) = INV_InvAck)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j92:int.
((_j92 = src) -> InvMsg_Cmd'(_j92) = INV_None) and
(not (_j92 = src) -> InvMsg_Cmd'(_j92) = InvMsg_Cmd(_j92))) and
(forall _j93:int.
((_j93 = src) -> Dir_InvSet'(_j93) = false) and
(not (_j93 = src) -> Dir_InvSet'(_j93) = Dir_InvSet(_j93))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_InvAck_done_1 *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = true and
Dir_Local = true and
Dir_Dirty = false and
Dir_InvSet_home = false and
Dir_InvSet(src) = true and
InvMsg_Cmd(src) = INV_InvAck
and (forall p:int.src = p or 
(Dir_InvSet(p) = false))
)and
( (* actions *)
Dir_Pending' = false and
Dir_Local' = false and
Collecting' = false and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall _j94:int.
((_j94 = src) -> InvMsg_Cmd'(_j94) = INV_None) and
(not (_j94 = src) -> InvMsg_Cmd'(_j94) = InvMsg_Cmd(_j94))) and
(forall _j95:int.
((_j95 = src) -> Dir_InvSet'(_j95) = false) and
(not (_j95 = src) -> Dir_InvSet'(_j95) = Dir_InvSet(_j95))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_InvAck_done_2 *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = true and
Dir_Local = false and
Dir_InvSet_home = false and
Dir_InvSet(src) = true and
InvMsg_Cmd(src) = INV_InvAck
and (forall p:int.src = p or 
(Dir_InvSet(p) = false))
)and
( (* actions *)
Dir_Pending' = false and
Collecting' = false and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall _j96:int.
((_j96 = src) -> InvMsg_Cmd'(_j96) = INV_None) and
(not (_j96 = src) -> InvMsg_Cmd'(_j96) = InvMsg_Cmd(_j96))) and
(forall _j97:int.
((_j97 = src) -> Dir_InvSet'(_j97) = false) and
(not (_j97 = src) -> Dir_InvSet'(_j97) = Dir_InvSet(_j97))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_InvAck_done_3 *)
(exists src:int. 
( (* requires *)
Home <> src and
Dir_Pending = true and
Dir_Dirty = true and
Dir_InvSet_home = false and
Dir_InvSet(src) = true and
InvMsg_Cmd(src) = INV_InvAck
and (forall p:int.src = p or 
(Dir_InvSet(p) = false))
)and
( (* actions *)
Dir_Pending' = false and
Collecting' = false and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
(forall _j98:int.
((_j98 = src) -> InvMsg_Cmd'(_j98) = INV_None) and
(not (_j98 = src) -> InvMsg_Cmd'(_j98) = InvMsg_Cmd(_j98))) and
(forall _j99:int.
((_j99 = src) -> Dir_InvSet'(_j99) = false) and
(not (_j99 = src) -> Dir_InvSet'(_j99) = Dir_InvSet(_j99))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Wb *)
(( (* requires *)
WbMsg_Cmd = WB_Wb)and
( (* actions *)
WbMsg_Cmd' = WB_None and
Dir_Dirty' = false and
Dir_HeadVld' = false and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_FAck_dirty *)
(( (* requires *)
Dir_Dirty = true and
ShWbMsg_Cmd = SHWB_FAck)and
( (* actions *)
ShWbMsg_Cmd' = SHWB_None and
Dir_Pending' = false and
Dir_HeadPtr' = ShWbMsg_Proc and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_FAck *)
(( (* requires *)
Dir_Dirty = false and
ShWbMsg_Cmd = SHWB_FAck)and
( (* actions *)
ShWbMsg_Cmd' = SHWB_None and
Dir_Pending' = false and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_ShWb_home *)
(( (* requires *)
ShWbMsg_Cmd = SHWB_ShWb and
ShWbMsg_Proc = Home)and
( (* actions *)
ShWbMsg_Cmd' = SHWB_None and
Dir_Pending' = false and
Dir_Dirty' = false and
Dir_ShrVld' = true and
Dir_ShrSet_home' = true and
Dir_InvSet_home' = true and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Local' = Dir_Local and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall p:int.
Dir_InvSet'(p) = Dir_ShrSet(p)) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_ShWb *)
(( (* requires *)
ShWbMsg_Cmd = SHWB_ShWb and
ShWbMsg_Proc <> Home)and
( (* actions *)
ShWbMsg_Cmd' = SHWB_None and
Dir_Pending' = false and
Dir_Dirty' = false and
Dir_ShrVld' = true and
Dir_InvSet_home' = Dir_ShrSet_home and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Local' = Dir_Local and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrSet_home' = Dir_ShrSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall p:int.
((p = ShWbMsg_Proc) -> Dir_ShrSet'(p) = true) and
(not (p = ShWbMsg_Proc) -> Dir_ShrSet'(p) = Dir_ShrSet(p))) and
(forall p:int.
((p = ShWbMsg_Proc) -> Dir_InvSet'(p) = true) and
(not (p = ShWbMsg_Proc) -> Dir_InvSet'(p) = Dir_ShrSet(p))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Replace_shrvld *)
(exists src:int. 
( (* requires *)
Dir_ShrVld = true and
RpMsg_Cmd(src) = RP_Replace)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j100:int.
((_j100 = src) -> RpMsg_Cmd'(_j100) = RP_None) and
(not (_j100 = src) -> RpMsg_Cmd'(_j100) = RpMsg_Cmd(_j100))) and
(forall _j101:int.
((_j101 = src) -> Dir_ShrSet'(_j101) = false) and
(not (_j101 = src) -> Dir_ShrSet'(_j101) = Dir_ShrSet(_j101))) and
(forall _j102:int.
((_j102 = src) -> Dir_InvSet'(_j102) = false) and
(not (_j102 = src) -> Dir_InvSet'(_j102) = Dir_InvSet(_j102))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) ))


or

(* transition ni_Replace_shrvld_home *)
(( (* requires *)
RpMsg_Cmd_home = RP_Replace and
Dir_ShrVld = true)and
( (* actions *)
RpMsg_Cmd_home' = RP_None and
Dir_ShrSet_home' = false and
Dir_InvSet_home' = false and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))


or

(* transition ni_Replace *)
(exists src:int. 
( (* requires *)
Dir_ShrVld = false and
RpMsg_Cmd(src) = RP_Replace)and
( (* actions *)
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
RpMsg_Cmd_home' = RpMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall _j103:int.
((_j103 = src) -> RpMsg_Cmd'(_j103) = RP_None) and
(not (_j103 = src) -> RpMsg_Cmd'(_j103) = RpMsg_Cmd(_j103))) and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) ))


or

(* transition ni_Replace_home *)
(( (* requires *)
RpMsg_Cmd_home = RP_Replace and
Dir_ShrVld = false)and
( (* actions *)
RpMsg_Cmd_home' = RP_None and
Home' = Home and
ProcCmd_home' = ProcCmd_home and
InvMarked_home' = InvMarked_home and
CacheState_home' = CacheState_home and
UniMsg_Cmd_home' = UniMsg_Cmd_home and
UniMsg_Proc_home' = UniMsg_Proc_home and
InvMsg_Cmd_home' = InvMsg_Cmd_home and
Dir_Pending' = Dir_Pending and
Dir_Local' = Dir_Local and
Dir_Dirty' = Dir_Dirty and
Dir_HeadVld' = Dir_HeadVld and
Dir_HeadPtr' = Dir_HeadPtr and
Dir_ShrVld' = Dir_ShrVld and
Dir_ShrSet_home' = Dir_ShrSet_home and
Dir_InvSet_home' = Dir_InvSet_home and
WbMsg_Cmd' = WbMsg_Cmd and
WbMsg_Proc' = WbMsg_Proc and
ShWbMsg_Cmd' = ShWbMsg_Cmd and
ShWbMsg_Proc' = ShWbMsg_Proc and
NakcMsg_Cmd' = NakcMsg_Cmd and
Collecting' = Collecting and
(forall z1:int. ProcCmd'(z1) = ProcCmd(z1)) and
(forall z1:int. InvMarked'(z1) = InvMarked(z1)) and
(forall z1:int. CacheState'(z1) = CacheState(z1)) and
(forall z1:int. Dir_ShrSet'(z1) = Dir_ShrSet(z1)) and
(forall z1:int. Dir_InvSet'(z1) = Dir_InvSet(z1)) and
(forall z1:int. UniMsg_Cmd'(z1) = UniMsg_Cmd(z1)) and
(forall z1:int. UniMsg_Proc'(z1) = UniMsg_Proc(z1)) and
(forall z1:int. InvMsg_Cmd'(z1) = InvMsg_Cmd(z1)) and
(forall z1:int. RpMsg_Cmd'(z1) = RpMsg_Cmd(z1)) ))
)


(* invariant after *)
goal invariant_preserved_1: not (exists z1,z2:int. z1 <> z2 and CacheState'(z1) = CACHE_E and
CacheState'(z2) = CACHE_E)

goal invariant_preserved_2: not (exists z1:int. ShWbMsg_Cmd' = SHWB_ShWb and
CacheState'(z1) = CACHE_E)

goal invariant_preserved_3: not (ShWbMsg_Cmd' = SHWB_ShWb and
ShWbMsg_Proc' = Home')

goal invariant_preserved_4: not (exists z1:int. WbMsg_Cmd' = WB_Wb and
CacheState'(z1) = CACHE_E)

goal invariant_preserved_5: not (WbMsg_Cmd' = WB_Wb and
ShWbMsg_Cmd' = SHWB_ShWb)

goal invariant_preserved_6: not (Dir_HeadVld' = false and
ShWbMsg_Cmd' = SHWB_ShWb)

goal invariant_preserved_7: not (Dir_HeadVld' = false and
WbMsg_Cmd' = WB_Wb)

goal invariant_preserved_8: not (exists z1:int. Dir_Dirty' = false and
CacheState'(z1) = CACHE_E)

goal invariant_preserved_9: not (Dir_Dirty' = false and
ShWbMsg_Cmd' = SHWB_ShWb)

goal invariant_preserved_10: not (Dir_Dirty' = false and
WbMsg_Cmd' = WB_Wb)

goal invariant_preserved_11: not (exists z1:int. UniMsg_Cmd_home' = UNI_PutX and
CacheState'(z1) = CACHE_E)

goal invariant_preserved_12: not (UniMsg_Cmd_home' = UNI_PutX and
ShWbMsg_Cmd' = SHWB_ShWb)

goal invariant_preserved_13: not (UniMsg_Cmd_home' = UNI_PutX and
WbMsg_Cmd' = WB_Wb)

goal invariant_preserved_14: not (UniMsg_Cmd_home' = UNI_PutX and
Dir_HeadVld' = false)

goal invariant_preserved_15: not (UniMsg_Cmd_home' = UNI_PutX and
Dir_Dirty' = false)

goal invariant_preserved_16: not (exists z1:int. UniMsg_Cmd_home' = UNI_Put and
CacheState'(z1) = CACHE_E)

goal invariant_preserved_17: not (UniMsg_Cmd_home' = UNI_Put and
ShWbMsg_Cmd' = SHWB_ShWb)

goal invariant_preserved_18: not (UniMsg_Cmd_home' = UNI_Put and
WbMsg_Cmd' = WB_Wb)

goal invariant_preserved_19: not (UniMsg_Cmd_home' = UNI_Put and
Dir_HeadVld' = false)

goal invariant_preserved_20: not (UniMsg_Cmd_home' = UNI_Put and
Dir_Dirty' = false)

goal invariant_preserved_21: not (exists z1:int. CacheState_home' = CACHE_E and
CacheState'(z1) = CACHE_E)

goal invariant_preserved_22: not (CacheState_home' = CACHE_E and
Dir_HeadVld' = true)

goal invariant_preserved_23: not (CacheState_home' = CACHE_E and
Dir_Dirty' = false)

goal invariant_preserved_24: not (CacheState_home' = CACHE_I and
Dir_Local' = true and
Dir_Dirty' = true)

goal invariant_preserved_25: not (InvMarked_home' = true)

goal invariant_preserved_26: not (ProcCmd_home' = NODE_Get and
Dir_Local' = true)

goal invariant_preserved_27: not (exists z1,z2:int. z1 <> z2 and Home' <> z1 and
CacheState'(z2) = CACHE_E and
UniMsg_Cmd'(z1) = UNI_PutX)

goal invariant_preserved_28: not (exists z1:int. Home' <> z1 and
CacheState'(z1) = CACHE_E and
UniMsg_Cmd'(z1) = UNI_PutX)

goal invariant_preserved_29: not (exists z1:int. Home' <> z1 and
ShWbMsg_Cmd' = SHWB_ShWb and
UniMsg_Cmd'(z1) = UNI_PutX)

goal invariant_preserved_30: not (exists z1:int. Home' <> z1 and
WbMsg_Cmd' = WB_Wb and
UniMsg_Cmd'(z1) = UNI_PutX)

goal invariant_preserved_31: not (exists z1:int. Home' <> z1 and
Dir_HeadVld' = false and
UniMsg_Cmd'(z1) = UNI_PutX)

goal invariant_preserved_32: not (exists z1:int. Home' <> z1 and
Dir_HeadVld' = false and
CacheState'(z1) = CACHE_E)

goal invariant_preserved_33: not (exists z1:int. Home' <> z1 and
Dir_Dirty' = false and
UniMsg_Cmd'(z1) = UNI_PutX)

goal invariant_preserved_34: not (exists z1:int. Home' <> z1 and
UniMsg_Cmd_home' = UNI_PutX and
UniMsg_Cmd'(z1) = UNI_PutX)

goal invariant_preserved_35: not (exists z1:int. Home' <> z1 and
UniMsg_Cmd_home' = UNI_Put and
UniMsg_Cmd'(z1) = UNI_PutX)

goal invariant_preserved_36: not (exists z1:int. Home' <> z1 and
CacheState_home' = CACHE_E and
UniMsg_Cmd'(z1) = UNI_PutX)

goal invariant_preserved_37: not (exists z1,z2:int. z1 <> z2 and Home' <> z1 and
Home' <> z2 and
UniMsg_Cmd'(z1) = UNI_PutX and
UniMsg_Cmd'(z2) = UNI_PutX)
